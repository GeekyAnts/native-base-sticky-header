{"version":3,"sources":["../addEjectScript.js"],"names":["fs","require","util","path","printMessage","copy","src","dst","cb","console","warn","err","is","os","Error","stat","createReadStream","createWriteStream","pump","projectPackage","join","__dirname","scripts","writeFileSync","JSON","stringify","color","borderColor","log"],"mappings":"AAAA,GAAIA,IAAKC,QAAQ,IAAR,CAAT;AACA,GAAIC,MAAOD,QAAQ,MAAR,CAAX;AACA,GAAIE,MAAOF,QAAQ,MAAR,CAAX;;AAEA,GAAIG,cAAeH,QAAQ,eAAR,CAAnB;;AAEAD,GAAGK,IAAH,CAAU,SAAUC,GAAV,CAAeC,GAAf,CAAoBC,EAApB,CAAwB;AAChCC,QAAQC,IAAR,CAAa,uDAAb;AACA,QAASL,KAAT,CAAcM,GAAd,CAAmB;AACjB,GAAIC,GAAJ;AACIC,EADJ;;;AAIA,GAAI,CAACF,GAAL,CAAU;AACR,MAAOH,IAAG,GAAIM,MAAJ,CAAU,QAAUP,GAAV,CAAgB,UAA1B,CAAH,CAAP;AACD;;AAEDP,GAAGe,IAAH,CAAQT,GAAR,CAAa,SAAUK,GAAV,CAAe;AAC1B,GAAIA,GAAJ,CAAS;AACP,MAAOH,IAAGG,GAAH,CAAP;AACD;AACDC,GAAKZ,GAAGgB,gBAAH,CAAoBV,GAApB,CAAL;AACAO,GAAKb,GAAGiB,iBAAH,CAAqBV,GAArB,CAAL;AACAL,KAAKgB,IAAL,CAAUN,EAAV,CAAcC,EAAd,CAAkBL,EAAlB;AACD,CAPD;AAQD;;AAEDR,GAAGe,IAAH,CAAQR,GAAR,CAAaF,IAAb;AACD,CAtBD;;;AAyBA,GAAIc,gBAAiBlB,QAAQE,KAAKiB,IAAL,CAAUC,SAAV,CAAqB,IAArB,CAA2B,IAA3B,CAAiC,cAAjC,CAAR,CAArB;AACA,GAAG,CAACF,eAAeG,OAAnB,CAA4B;AAC1BH,eAAeG,OAAf,CAAyB,EAAzB;AACD;;AAEDH,eAAeG,OAAf,CAAuB,mBAAvB,EAA8C,6CAA9C;;AAEA,GAAI;AACFtB,GAAGuB,aAAH,CAAiBpB,KAAKiB,IAAL,CAAUC,SAAV,CAAqB,IAArB,CAA2B,IAA3B,CAAiC,cAAjC,CAAjB,CAAmEG,KAAKC,SAAL,CAAeN,cAAf,CAA+B,IAA/B,CAAqC,CAArC,CAAnE;AACAf,aAAa;AACX,gDADW;AAEX,0EAFW;AAGX,qFAHW,CAAb;AAIG;AACDsB,MAAO,QADN;AAEDC,YAAa,OAFZ,CAJH;;AAQD,CAAC,MAAMhB,GAAN,CAAW;AACXF,QAAQmB,GAAR,CAAY,UAAYjB,GAAxB;AACAF,QAAQmB,GAAR,CAAY,4IAAZ;AACD","file":"addEjectScript.js","sourcesContent":["var fs = require('fs');\nvar util = require('util');\nvar path = require('path');\n\nvar printMessage = require('print-message');\n\nfs.copy = function (src, dst, cb) {\n  console.warn('[Deprecated] See https://github.com/coolaj86/utile-fs');\n  function copy(err) {\n    var is\n      , os\n      ;\n\n    if (!err) {\n      return cb(new Error(\"File \" + dst + \" exists.\"));\n    }\n\n    fs.stat(src, function (err) {\n      if (err) {\n        return cb(err);\n      }\n      is = fs.createReadStream(src);\n      os = fs.createWriteStream(dst);\n      util.pump(is, os, cb);\n    });\n  }\n\n  fs.stat(dst, copy);\n};\n\n\nvar projectPackage = require(path.join(__dirname, '..', '..', 'package.json'));\nif(!projectPackage.scripts) {\n  projectPackage.scripts = {};\n}\n\nprojectPackage.scripts['eject-native-base'] = 'node node_modules/native-base/ejectTheme.js';\n\ntry {\n  fs.writeFileSync(path.join(__dirname, '..', '..', 'package.json'), JSON.stringify(projectPackage, null, 2));\n  printMessage([\n    'NativeBase 2.0 has been succesfully installed!',\n    'Run `npm run eject-native-base` to copy over theme config and variables.',\n    'Head over to the docs for detailed information on how to make changes to the theme.',\n  ], {\n    color: 'yellow',\n    borderColor: 'green',\n  });\n} catch(err) {\n  console.log('Error: ' + err);\n  console.log('There was some error adding the eject script to your package.json. \\nRefer http://docs.nativebase.io/docs/customize/SetUp.html for theming')\n}\n"]}